このgistは [TDD Advent Calender 2012](http://atnd.org/events/33846), 12/10 のエントリとして書かれたような気がします。昨日、12/9のエントリは [@setoazusa](https://twitter.com/setoazusa) さんの [JUnitテストの実行環境をバージョンアップする時の落とし穴 #tddadventjp – ふぃーるどのーつ@はてな](http://d.hatena.ne.jp/setoazusa/20121209/1355056720) だったそうです。

そう、だれがJSTに従うと言った?

さて、私はいま社内読書会として計算機プログラムの構造と解釈、 **通称SICP** ってやつを読んでいて、ちょうど2章がもう少しで終わるかなーというところなんですが、その中ではデータ構造の操作だったりをする手続き(「関数」とは言わない)を作ったりして、それを「accumulatorを使うように直してみよう」みたいな感じで、 **手続きの構造を変更** させられるわけで、もちろんそのときは、 **手続きの入出力が変わらない** ようにしなければならない。ようするに **リファクタリング以外の何者でもない**わけですよ、これは。

ということで、何が必要かって、 **テストコードが必要** ですよね、よく訓練されたおまいらには当然ですね。

という感じで書いたのがコレなので、動かすには、gaucheがインストールされている状態で

```
make test
```

してみてください。テストがこけてれば、makeもこけます。

gaucheにも組み込みでtestなんとかがあるらしいけど、このへんはアレですね、使い慣れた感じのほうがね。

これで勝てる。

以上、よろしくお願い致します。

ポイントは、raises matcherのときのactualはlazyなんとかにしないといけないっぽいところです?